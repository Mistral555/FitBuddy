{% extends 'base.html.twig' %}

{% block title %}FitBuddy - Profile
{% endblock %}
{% block body %}


{{ include('layouts/_NavBar.html.twig') }}
	<div class="container" style="margin-top: 100px;">
		<div class="main-body">

			<!-- Breadcrumb -->
			<!-- MENU BAR -->

			<!-- /Breadcrumb -->

				<div class="row gutters-sm"> <div class="col-md-4 mb-3">
					<div class="card">
						<div class="card-body">
							<div class="d-flex flex-column align-items-center text-center">
								<img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="Admin" class="rounded-circle" width="150">
								<div class="mt-3">
									<h4>{{app.user.nom}}</h4>
									<p class="text-secondary mb-1">OBJECTIF</p>
									<p class="text-muted font-size-sm">Perdre du poids</p>

								</div>
							</div>
						</div>
					</div>
					<div class="card mt-3">
						<ul class="list-group list-group-flush">
							<li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
								<h6 class="mb-0">Poids</h6>
								<h6 class="mb-0">Date</h6>
							</li>

							<li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
								
									<span class="text-secondary">{% if p %}{{p.poids}}{% else %}
										{{user.poids}}{% endif %}
									kg</span>

								  <span class="text-secondary">{% if p %}{{p.date | date('d-m-Y')}}{% endif %}</span>
							</li>
						</ul>
					</div>
					<div class="card mt-3">
						<div class="card-body">
							<ul class="mb-4 list-group list-group-flush">
								<li class="list-group-item d-flex justify-content-between align-items-center">
									<h6 style="margin: 0 auto;">Mise à Jour de mon poids</h6>
								</li>
							</ul>
							<div class="row mt-4 mb-3">
								{{ form_start(form) }}
								{{ form_widget(form) }}
								<button formnovalidate class="btn w-100" style="background-color: rgb(231, 39, 55);">Modifier</button>
								{{ form_end(form) }}
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-8">
					<div class="card mb-3">
						<div class="card-body">
							<div class="row">
								<div class="col-sm-3">
									<h6 class="mb-0">Nom</h6>
								</div>
								<div class="col-sm-9 text-secondary">
									{{user.nom}}
								</div>
							</div>
							<hr>
							<div class="row">
								<div class="col-sm-3">
									<h6 class="mb-0">Email</h6>
								</div>
								<div class="col-sm-9 text-secondary">
									{{user.email}}
								</div>
							</div>
							<hr>
							<div class="row">
								<div class="col-sm-3">
									<h6 class="mb-0">Poids</h6>
								</div>
								<div class="col-sm-9 text-secondary">
									{{user.poids}} kg
								</div>
							</div>
							<hr>
							<div class="row">
								<div class="col-sm-3">
									<h6 class="mb-0">Age</h6>
								</div>
								<div class="col-sm-9 text-secondary">
									{{user.age}} ans
								</div>
							</div>
							<hr>
							<div class="row">
								<div class="col-sm-3">
									<h6 class="mb-0">Taille</h6>
								</div>
								<div class="col-sm-9 text-secondary">
									{{user.taille}} Cm
								</div>
							</div>
							<hr>
							<div class="row">
								<div class="col-sm-12  d-flex justify-content-end">
									<button type="button" class="btn w-50" style="background-color: rgb(231, 39, 55);" data-toggle="modal" data-target="#exampleModal">Modifier</button>
								</div>
							</div>
						</div>
					</div>

					<div class="row gutters-sm">
						<div class="col-sm-12 mb-12">
							<div class="card h-100">
								<div class="card-body">
									<canvas id="myChart"></canvas>
								</div>
							</div>
						</div>

					</div>


				</div>
			</div>

		</div>
	</div>

	<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">Mofidification des informations</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<form action="">
						<div class="row">
							<div class="col-lg-12">
								<div class="card">
									<div class="card-body">
										<div class="row mb-3">
											<div class="col-sm-3">
												<h6 class="mb-0">Nom</h6>
											</div>
											<div class="col-sm-9 text-secondary">
												<input type="text" class="form-control" value="{{user.nom}}">
											</div>
										</div>
										<div class="row mb-3">
											<div class="col-sm-3">
												<h6 class="mb-0">Email</h6>
											</div>
											<div class="col-sm-9 text-secondary">
												<input type="text" class="form-control" value="{{user.email}}">
											</div>
										</div>
										<div class="row mb-3">
											<div class="col-sm-3">
												<h6 class="mb-0">Poids</h6>
											</div>
											<div class="col-sm-9 text-secondary">
												<input type="text" class="form-control" value="{{user.poids}}">
											</div>
										</div>
										<div class="row mb-3">
											<div class="col-sm-3">
												<h6 class="mb-0">Age</h6>
											</div>
											<div class="col-sm-9 text-secondary">
												<input type="text" class="form-control" value="{{user.age}}">
											</div>
										</div>
										<div class="row mb-3">
											<div class="col-sm-3">
												<h6 class="mb-0">Taille</h6>
											</div>
											<div class="col-sm-9 text-secondary">
												<input type="text" class="form-control" value="{{user.taille}}">
											</div>
										</div>

									</div>
								</div>
							</div>
						</div>
						
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
							<button type="submit" class="btn" style="background-color: rgb(231, 39, 55);">Modifier</button>

						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	<script>
		// Votre code JavaScript ici
const labels = [
'Janvier',
'Février',
'Mars',
'Avril',
'Mai',
'Juin',
'Juillet'
];

const data = {
labels: labels,
datasets: [
{
label: 'Historique de mon évolution',
data: [
65,
59,
80,
81,
56,
55,
40
],
fill: false,
borderColor: 'rgb(231, 39, 55)',
tension: 0.1
}
]
};

const config = {
type: 'line',
data: data
};

// Obtenez le contexte du canevas
const ctx = document.getElementById('myChart').getContext('2d');

// Créez le graphique en utilisant Chart.js
const myChart = new Chart(ctx, config);
	</script>
	<script src='https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.bundle.min.js'></script>
{% endblock %}
